chiper = 'MHBFOBNMAOPSQWDVSFCUACSTBDRMOMSKGRZQHALJRNJSRRGLSREUFSLC'
key = 'IDONTTHINKYOOOOOOOUCANSLOVETHISSOJUSTGIVEUPANDTAKEABREAK'
dic = {}
base = 64

f = open('cipher.txt')

def decode(dic, c, k):
    i = dic[k].index(c)
    i += base
    return chr(i)

[print(f.readline()) for i in range(3)]

for i in range(26):
    tmp = f.readline()
    tmp = tmp.split('|')
    dic[tmp[0]] = tmp[1].replace('\n', '').split(' ')
f.close()

flag = ''
for c, k in zip(chiper, key):
    if c == '{' or c == ' ' or c == '}':
        flag += c
    else:
        flag += decode(dic, c, k)
print(flag)
